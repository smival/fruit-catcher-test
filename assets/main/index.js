System.register("chunks:///_virtual/AbstractBaseState.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var n,e;return{setters:[function(t){n=t.createClass},function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"eda3cYVSUBKWLOcwDkSOff7","AbstractBaseState",void 0);t("AbstractBaseState",function(){function t(t){this._context=void 0,this._transitions=[],this._context=t}var e=t.prototype;return e.BeforeEnter=function(){},e.AfterEnter=function(){},e.Execute=function(){this._context.StateMachine.MoveNext()},e.BeforeExit=function(){},e.AfterExit=function(){},e.AddTransition=function(t){this._transitions.push(t)},e.RemoveTransition=function(t){var n=this._transitions.indexOf(t,0);n>-1&&this._transitions.splice(n,1)},n(t,[{key:"Context",get:function(){return this._context},set:function(t){this._context=t}},{key:"Transitions",get:function(){return this._transitions}}]),t}());e._RF.pop()}}}));

System.register("chunks:///_virtual/AbstractBaseStateMachine.ts",["./rollupPluginModLoBabelHelpers.js","cc","./TransitionBehaviourEnum.ts","./WrongMachineStateException.ts","./InvalidTransitionException.ts","./NullInitialStateException.ts","./NullStateException.ts","./WrongStateIndexException.ts","./AmbiguousInitialStateException.ts","./StateNotFoundException.ts","./StateMachineBehaviorEnum.ts","./StateTransition.ts","./AbstractEventDispatcher.ts"],(function(t){var e,i,n,a,s,r,o,u,c,h,l,S,f,_,p;return{setters:[function(t){e=t.inheritsLoose,i=t.createForOfIteratorHelperLoose,n=t.createClass},function(t){a=t.cclegacy},function(t){s=t.TransitionBehaviorEnum},function(t){r=t.WrongMachineStateException},function(t){o=t.InvalidTransitionException},function(t){u=t.NullInitialStateException},function(t){c=t.NullStateException},function(t){h=t.WrongStateIndexException},function(t){l=t.AmbiguousInitialStateException},function(t){S=t.StateNotFoundException},function(t){f=t.StateMachineBehaviorEnum},function(t){_=t.StateTransition},function(t){p=t.AbstractEventDispatcher}],execute:function(){a._RF.push({},"da188+xldZCja5t17K7uNIO","AbstractBaseStateMachine",void 0);t("AbstractBaseStateMachine",function(t){function a(e,i){var n;return void 0===e&&(e=null),void 0===i&&(i=null),(n=t.call(this)||this)._options=new Array,n._states=new Array,n._transitions=new Array,n._initialState=null,n._currentState=null,n._context=void 0,n._context=e,null!=i&&n.AddState(i,!0),n}e(a,t);var p=a.prototype;return p.AddState=function(t,e){return void 0===e&&(e=!1),this._states.push(t),e&&this.SetInitialState(t),this._states.length-1},p.AddTransition=function(t,e,i,n,a){void 0===n&&(n=0),void 0===a&&(a=s.CONTINUE_AFTER_TRANSITION);var r=new _(t,e,i,n,a);return this._transitions.push(r),r},p.InInitialState=function(){return this._currentState==this._initialState},p.IsState=function(t){return this._currentState===t},p.MoveNext=function(){if(null==this._currentState)throw new r("The current state in state machine is null!");for(var t,e=i(this._currentState.Transitions);!(t=e()).done;){var n=t.value;if(this.CanExecuteTransition(n))return void this.PerformTransition(n)}},p.RemoveState=function(t){var e=this._states.indexOf(t,0);e>-1&&this._states.splice(e,1)},p.RemoveTransition=function(t){var e=this._transitions.indexOf(t,0);e>-1&&this._transitions.splice(e,1),t.RemoveFromStates()},p.Reset=function(t){var e;t&&(null==(e=this._context)||e.Reset());if(null==this._initialState)throw new u("The initial state of state machine is null, please call the SetInitialState before teh call Run method");this.ExecuteStateChangeLifecycle(this._initialState)},p.Run=function(){if(null==this._currentState)throw new c("The current state of state machine is null, please set the state before the call Run method");this._currentState.Execute()},p.SetInitialStateByIndex=function(t){if(t<0||t>=this._states.length)throw new h("The index passed as an argument is not presented in the list of states.");var e=this._states[t];this._initialState=e,this.ExecuteStateChangeLifecycle(e)},p.SetInitialState=function(t,e){if(void 0===e&&(e=!1),null!=this._initialState)throw new l("Trying to setup the initial state via calling AddState on the state machine when the initial state already set up previously.");var i=this._states.indexOf(t,0);if(-1==i)throw new S("The initial state is not presented in the list of states.");this._initialState=this._states[i],this.Reset(e)},p.IsBehaviourOptionSet=function(t){var e=-1;return this._options.forEach((function(i,n){i.toFixed()==t.toFixed()&&(e=n)})),e>-1},p.SetBehaviourOption=function(t){this.IsBehaviourOptionSet(t)||this._options.push(t)},p.UnsetBehaviourOption=function(t){if(!this.IsBehaviourOptionSet(t)){var e=this._options.indexOf(t,0);e>-1&&this._options.splice(e,1)}},p.GetCurrentState=function(){return this._currentState},p.CanExecuteTransition=function(t,e){if(void 0===e&&(e=!1),!t.IsActive)return!1;if(t.FromState!=this._currentState){if(!e)return!1;throw new o("Current state is not the initial state of executed transaction. Current state: {_currentState?.GetType().Name}, initial state of transition: "+typeof t.FromState)}return t.CanExecute(this._context)},p.PerformTransition=function(t){var e;this.ExecuteStateChangeLifecycle(t.ToState),this.IsBehaviourOptionSet(f.STOP_ON_INITIAL_STATE)&&t.ToState==this._initialState&&this._currentState==this._initialState||t.AfterTransitionBehaviorEnum.toFixed()!=s.STOP_AFTER_TRANSITION.toFixed()&&(null==(e=this._currentState)||e.Execute())},p.ExecuteStateChangeLifecycle=function(t){var e,i;if(this._currentState!=t){var n=this._currentState;null==(e=this._currentState)||e.BeforeExit(),null==t||t.BeforeEnter(),this._currentState=t,null==(i=this._currentState)||i.AfterEnter(),null==n||n.AfterExit()}},n(a,[{key:"Context",get:function(){return this._context},set:function(t){this._context=t}},{key:"CurrentState",get:function(){return this._currentState}}]),a}(p));a._RF.pop()}}}));

System.register("chunks:///_virtual/AbstractEventDispatcher.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var a,e,s;return{setters:[function(t){a=t.inheritsLoose},function(t){e=t.cclegacy,s=t.Component}],execute:function(){e._RF.push({},"1d521+I4yxOsKhLzt38slQy","AbstractEventDispatcher",void 0);t("AbstractEventDispatcher",function(t){function e(){for(var a,e=arguments.length,s=new Array(e),c=0;c<e;c++)s[c]=arguments[c];return(a=t.call.apply(t,[this].concat(s))||this).callbacks=new Map,a.callbacksForDelete=new Map,a.callbacksForAdd=new Map,a.InDispatch=!1,a}a(e,t);var s=e.prototype;return s.removeAllListeners=function(){this.callbacks=new Map,this.callbacksForDelete=new Map,this.callbacksForAdd=new Map},s.addEventListener=function(t,a){var e=this.callbacks;this.InDispatch&&this.callbacksForAdd.size>0&&(e=this.callbacksForAdd),e.has(t)?e.get(t).push(a):e.set(t,[a])},s.removeEventListener=function(t,a){if(this.callbacks.has(t)){if(this.callbacksForDelete.has(t)){var e=this.callbacksForDelete.get(t);e.push(a),this.callbacksForDelete.set(t,e)}else this.callbacksForDelete.set(t,[a]);this.InDispatch||this.deleteCallbacks()}},s.deleteCallbacks=function(){var t=this;this.callbacksForDelete.size<=0||(this.callbacksForDelete.forEach((function(a,e){var s=t.callbacks.get(e);if(s&&s.length>0){var c=s.filter((function(t){return!(null!=a&&a.some((function(a){return a===t})))}));t.callbacks.set(e,c)}})),this.callbacksForDelete.clear())},s.addCallbacks=function(){var t=this;this.callbacksForAdd.size<=0||(this.callbacksForAdd.forEach((function(a,e){var s=t.callbacks.get(e);if(s&&s.length>0){var c=a.filter((function(t){return null==s?void 0:s.some((function(a){return a===t}))}));s.length>0&&t.callbacks.set(e,[].concat(s,c))}else t.callbacks.set(e,a)})),this.callbacksForAdd.clear())},s.dispatch=function(t,a){if(this.InDispatch=!0,this.callbacks.has(t)){for(var e=this.callbacks.get(t),s=0;s<e.length;s++){(0,e[s])(a)}this.InDispatch=!1,this.addCallbacks(),this.deleteCallbacks()}},e}(s));e._RF.pop()}}}));

System.register("chunks:///_virtual/AbstractPool.ts",["cc"],(function(t){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"00a4fEWWaBBV6QF+h0NftGw","AbstractPool",void 0);t("AbstractPool",function(){function t(){this.objects=[]}var e=t.prototype;return e.init=function(t){for(var e=0;e<t;e++)this.release(this.createNewInstance());return this},e.obtain=function(){return this.objects.pop()||this.createNewInstance()},e.release=function(t){this.objects.push(t)},t}());e._RF.pop()}}}));

System.register("chunks:///_virtual/AbstractStateMachineContext.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,n;return{setters:[function(t){e=t.createClass},function(t){n=t.cclegacy}],execute:function(){n._RF.push({},"1a8b5z1nihBBI4JBtc/EnUA","AbstractStateMachineContext",void 0);t("AbstractStateMachineContext",function(){function t(t){this._stateMachine=void 0,this._stateMachine=t}return t.prototype.Reset=function(){},e(t,[{key:"StateMachine",get:function(){return this._stateMachine}}]),t}());n._RF.pop()}}}));

System.register("chunks:///_virtual/AbstractTransition.ts",["./rollupPluginModLoBabelHelpers.js","cc","./TransitionBehaviourEnum.ts","./NullStateException.ts"],(function(t){var i,n,o,e;return{setters:[function(t){i=t.createClass},function(t){n=t.cclegacy},function(t){o=t.TransitionBehaviorEnum},function(t){e=t.NullStateException}],execute:function(){n._RF.push({},"218934Ts7JC0IrrQEJIXTbY","AbstractTransition",void 0);t("AbstractTransition",function(){function t(t,i,n,e,s){void 0===n&&(n=null),void 0===e&&(e=0),void 0===s&&(s=o.CONTINUE_AFTER_TRANSITION),this._order=0,this._condition=null,this._transitionBehavior=o.CONTINUE_AFTER_TRANSITION,this._fromState=void 0,this._toState=void 0,this._isActive=!0,this._fromState=t,this._toState=i,this._condition=n,this._order=e,this._transitionBehavior=s,this._fromState.AddTransition(this),this._toState.AddTransition(this)}var n=t.prototype;return n.CanExecute=function(t){if(null==t)throw new e("The state passed to the method is null!");if(null==this.Condition)return!0;var i=this.Condition.call(this,t);return i||null==i},n.RemoveFromStates=function(){null!=this.FromState&&this.FromState.RemoveTransition(this),null!=this.ToState&&this.ToState.RemoveTransition(this)},i(t,[{key:"AfterTransitionBehaviorEnum",get:function(){return this._transitionBehavior},set:function(t){this._transitionBehavior=t}},{key:"Condition",get:function(){return this._condition},set:function(t){this._condition=t}},{key:"FromState",get:function(){return this._fromState},set:function(t){this._fromState=t}},{key:"IsActive",get:function(){return this._isActive},set:function(t){this._isActive=t}},{key:"Order",get:function(){return this._order},set:function(t){this._order=t}},{key:"ToState",get:function(){return this._toState},set:function(t){this._toState=t}}]),t}());n._RF.pop()}}}));

System.register("chunks:///_virtual/AmbiguousInitialStateException.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,i,o,n;return{setters:[function(t){e=t.inheritsLoose,i=t.assertThisInitialized,o=t.wrapNativeSuper},function(t){n=t.cclegacy}],execute:function(){n._RF.push({},"0b8344AGN5AHoejFreo9O5H","AmbiguousInitialStateException",void 0);t("AmbiguousInitialStateException",function(t){function o(e){var n;return n=t.call(this,e)||this,Object.setPrototypeOf(i(n),o.prototype),n}return e(o,t),o}(o(Error)));n._RF.pop()}}}));

System.register("chunks:///_virtual/AnimationsUtils.ts",["cc"],(function(n){var e,i,o;return{setters:[function(n){e=n.cclegacy,i=n.director,o=n.Animation}],execute:function(){e._RF.push({},"1e561/oVgRJy7XL1Svz39N4","AnimationsUtils",void 0);var t=n("AnimationsUtils",function(){function n(){}return n.playSpine=function(e,o,t){return void 0===t&&(t=!1),e.paused=!1,new Promise((function(s){i._nodeActivator.activateNode(e.node,!0),e.node.active=!0,null==e.findAnimation(o)&&(console.warn("----\x3e Spine Animation not found",o),s()),e.setAnimation(0,o,t),t?s():(n.spinePromiseResolves.set(e,s),e.setCompleteListener((function(i){e.setCompleteListener(null),n.spinePromiseResolves.delete(e),s(i.animation)})))}))},n.playAnimation=function(e,i){void 0===i&&(i=null);var t=e.getComponent(o);if(t){if(!i||t.clips.find((function(n){return n.name==i})))return new Promise((function(e){n.animationPromiseResolves.set(t,e),t.once(o.EventType.FINISHED,(function(){n.animationPromiseResolves.delete(t),e()})),t.play(i)}));console.warn("----\x3e Timeline Animation name not found",i)}else console.warn("----\x3e Timeline Animation component not found for node",e.name)},n}());t.spinePromiseResolves=new Map,t.animationPromiseResolves=new Map,e._RF.pop()}}}));

System.register("chunks:///_virtual/AppContext.ts",["./rollupPluginModLoBabelHelpers.js","cc","./TerminableContext.ts"],(function(t){var e,o,n;return{setters:[function(t){e=t.inheritsLoose},function(t){o=t.cclegacy},function(t){n=t.TerminableContext}],execute:function(){o._RF.push({},"ff56f2hO9tJN5J06kOtX28t","AppContext",void 0);t("AppContext",function(t){function o(){for(var e,o=arguments.length,n=new Array(o),i=0;i<o;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))||this).config=void 0,e.locale=void 0,e.starterNode=void 0,e.gameUI=void 0,e.toastNode=void 0,e.toastLabel=void 0,e.onUpdate=null,e}return e(o,t),o}(n));o._RF.pop()}}}));

System.register("chunks:///_virtual/AppEvents.ts",["cc"],(function(t){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"3a7024BsmFOw6+K5hCKcY+m","AppEvents",void 0);t("AppEvents",function(t){return{}}());e._RF.pop()}}}));

System.register("chunks:///_virtual/AppIndex.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AppStateMachine.ts","./AppContext.ts","./LoadingState.ts","./IntroState.ts","./PlayGameState.ts","./GameOverState.ts","./NodeNames.ts"],(function(t){var e,n,a,i,s,o,c,h,d,r,p,_,u;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,a=t._decorator,i=t.find,s=t.Label,o=t.Component},function(t){c=t.AppStateMachine},function(t){h=t.AppContext},function(t){d=t.LoadingState},function(t){r=t.IntroState},function(t){p=t.PlayGameState},function(t){_=t.GameOverState},function(t){u=t.NodeNames}],execute:function(){var l;n._RF.push({},"0bfc725E/pJQ62BsaJcct7H","AppIndex",void 0);var x=a.ccclass,A=a.menu;t("AppIndex",x("AppIndex")(l=A("**App/AppIndex")(l=function(t){function n(){for(var e,n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))||this)._stateMachine=void 0,e._context=void 0,e}e(n,t);var a=n.prototype;return a.onLoad=function(){this._stateMachine=new c,this._context=new h(this._stateMachine),this._stateMachine.Context=this._context,this._context.starterNode=this.node,this._context.gameUI=i(u.TotalPoints),this._context.toastNode=i(u.ToastMessage),this._context.toastLabel=this._context.toastNode.getChildByName("Value").getComponent(s);var t=new d(this._context),e=new r(this._context),n=new p(this._context),a=new _(this._context);this._stateMachine.AddState(t,!0),this._stateMachine.AddState(e),this._stateMachine.AddState(n),this._stateMachine.AddState(a),this._stateMachine.AddTransition(t,e),this._stateMachine.AddTransition(e,n),this._stateMachine.AddTransition(n,a),this._stateMachine.AddTransition(a,e),this._stateMachine.Run()},a.update=function(t){var e,n;null==(e=(n=this._context).onUpdate)||e.call(n,t)},n}(o))||l)||l);n._RF.pop()}}}));

System.register("chunks:///_virtual/AppStateMachine.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AbstractBaseStateMachine.ts"],(function(t){var e,n,o;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){o=t.AbstractBaseStateMachine}],execute:function(){n._RF.push({},"b1f31PCu2xGhoabC9WRvG3k","AppStateMachine",void 0);t("AppStateMachine",function(t){function n(){return t.apply(this,arguments)||this}return e(n,t),n.prototype.PerformTransition=function(e){console.log("Transition",e.FromState,e.ToState),t.prototype.PerformTransition.call(this,e)},n}(o));n._RF.pop()}}}));

System.register("chunks:///_virtual/ArrayUtils.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(r){var e,t;return{setters:[function(r){e=r.createForOfIteratorHelperLoose},function(r){t=r.cclegacy}],execute:function(){t._RF.push({},"32aa0PVPLdAcIxyjXKaPZeN","ArrayUtils",void 0),r("ArrayUtils",function(){function r(){}return r.removeItem=function(e,t,n){void 0===n&&(n=r.REMOVE_COUNT_ALL);var o=!1;n===r.REMOVE_COUNT_ALL&&(n=Number.MAX_VALUE);for(var u=0,i=e.indexOf(t);-1!==i&&u<n;)e.splice(i,1),i=e.indexOf(t,i),u++,o=!0;return o},r.removeItemsFromArray=function(e,t){for(var n,o=0;o<t.length;o++)n=t[o],r.removeItem(e,n)},r.getRandomItem=function(e,t){var n;e&&e.length>0&&(t&&(e=e.concat(),r.removeItemsFromArray(e,t)),n=e[Math.floor(Math.random()*e.length)]);return n},r.removeDuplicates=function(e){return e.filter(r.removeDuplicatesFilter)},r.shuffle=function(r){return r.sort((function(){return Math.random()-.5}))},r.find=function(r,t){for(var n,o=e(r);!(n=o()).done;){var u=n.value;if(t(u))return u}return null},r.mergeUnique=function(r,e){return r.filter((function(r,t,n){return e.indexOf(r)<0})).concat(e)},r.values=function(r){for(var e=[],t=0,n=Object.keys(r);t<n.length;t++){var o=n[t];e.push(r[o])}return e},r.getArrayFilledWithRange=function(r,e){return Array(e-r+1).fill(0).map((function(e,t){return r+t}))},r.getWeightedRandom=function(r){var e,t=[];for(e=0;e<r.length;e++)t[e]=r[e].weight+(t[e-1]||0);var n=Math.random()*t[t.length-1];for(e=0;e<t.length&&!(t[e]>n);e++);return r[e].item},r.removeDuplicatesFilter=function(r,e,t){return 0===e||-1===t.lastIndexOf(r,e-1)},r}()).REMOVE_COUNT_ALL=-1,t._RF.pop()}}}));

System.register("chunks:///_virtual/AssetsLoader.ts",["cc"],(function(e){var n,o,r,s;return{setters:[function(e){n=e.cclegacy,o=e.resources,r=e.JsonAsset,s=e.Prefab}],execute:function(){n._RF.push({},"cca9cHpFYBPL7VYfkvp/j9/","AssetsLoader",void 0);e("AssetsLoader",function(){function e(){}return e.loadJSON=function(e){return new Promise((function(n,s){o.load(e,r,(function(e,o){if(e)return s(e),void console.error(e.message);n(o.json)}))}))},e.loadPrefab=function(e){return new Promise((function(n,r){o.load(e,s,(function(e,o){if(e)return r(e),void console.error(e.message);n(o)}))}))},e}());n._RF.pop()}}}));

System.register("chunks:///_virtual/BaseTerminableState.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AbstractBaseState.ts"],(function(t){var e,n,r;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){r=t.AbstractBaseState}],execute:function(){n._RF.push({},"31dc3cKcv1BfJZCoNZhIcdx","BaseTerminableState",void 0);t("BaseTerminableState",function(t){function n(){return t.apply(this,arguments)||this}e(n,t);var r=n.prototype;return r.BeforeEnter=function(){},r.BeforeExit=function(){},r.Terminate=function(){},n}(r));n._RF.pop()}}}));

System.register("chunks:///_virtual/BaseTerminableStateMachine.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AbstractBaseStateMachine.ts","./BaseTerminableState.ts"],(function(t){var e,n,a,r,c;return{setters:[function(t){e=t.inheritsLoose,n=t.createClass},function(t){a=t.cclegacy},function(t){r=t.AbstractBaseStateMachine},function(t){c=t.BaseTerminableState}],execute:function(){a._RF.push({},"b7211E3ypdK255RDPALnccz","BaseTerminableStateMachine",void 0);t("BaseTerminableStateMachine",function(t){function a(){for(var e,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))||this)._currentState=null,e}return e(a,t),a.prototype.Terminate=function(){this._context.isTerminated=!0,this._currentState instanceof c&&this._currentState.Terminate()},n(a,[{key:"currentStateName",get:function(){return this._currentState.constructor.name}}]),a}(r));a._RF.pop()}}}));

System.register("chunks:///_virtual/BasketComponent.ts",["cc"],(function(t){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"05fa3bg0jlGc6HGTF0WKEvL","BasketComponent",void 0),t("BasketComponent",(function(){})).tag="BasketComponent",e._RF.pop()}}}));

System.register("chunks:///_virtual/BasketMovementSystem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index.mjs_cjs=&original=.js","./BasketComponent.ts","./GameState.ts","./inject.ts","./NodeNames.ts","./EntitiesFactory.ts","./PositionComponent.ts","./index.js"],(function(t){var e,n,i,o,s,a,c,r,u,l;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,i=t.find},null,function(t){o=t.BasketComponent},function(t){s=t.GameState},function(t){a=t.inject},function(t){c=t.NodeNames},function(t){r=t.EntitiesFactory},function(t){u=t.PositionComponent},function(t){l=t.default}],execute:function(){n._RF.push({},"1cb1e32UE1Bj6Krecmn2PrY","BasketMovementSystem",void 0);t("BasketMovementSystem",function(t){function n(){for(var e,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))||this).family=void 0,e.basketZone=void 0,e._gameState=a(s),e}e(n,t);var m=n.prototype;return m.onAttach=function(e){t.prototype.onAttach.call(this,e),this.basketZone=i(c.ZoneBasket),e.addEntity(r.createBasketEntity()),this.family=new l.FamilyBuilder(e).include(o).build()},m.update=function(t,e){for(var n=0;n<this.family.entities.length;n++){var i=this.family.entities[n].getComponent(u);i.currentX=this._gameState.getState().basketPositionX,i.currentY=this.basketZone.getWorldPosition().y}},n}(l.System));n._RF.pop()}}}));

System.register("chunks:///_virtual/BasketVSFruitCollisionSystem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index.mjs_cjs=&original=.js","./FruitComponent.ts","./BasketComponent.ts","./HitComponent.ts","./index.js"],(function(t){var i,n,e,o,s,l;return{setters:[function(t){i=t.inheritsLoose},function(t){n=t.cclegacy},null,function(t){e=t.FruitComponent},function(t){o=t.BasketComponent},function(t){s=t.HitComponent},function(t){l=t.default}],execute:function(){n._RF.push({},"84962GduYBIspINSyHBuux1","BasketVSFruitCollisionSystem",void 0);t("BasketVSFruitCollisionSystem",function(t){function n(){for(var i,n=arguments.length,e=new Array(n),o=0;o<n;o++)e[o]=arguments[o];return(i=t.call.apply(t,[this].concat(e))||this).familyFruits=void 0,i.familyBasket=void 0,i}i(n,t);var u=n.prototype;return u.onAttach=function(i){t.prototype.onAttach.call(this,i),this.familyFruits=new l.FamilyBuilder(i).include(e).include(s).build(),this.familyBasket=new l.FamilyBuilder(i).include(o).include(s).build()},u.update=function(t,i){for(var n=0;n<this.familyBasket.entities.length;n++){var e,o=null==(e=this.familyBasket.entities[n].getComponent(s).hitTransform)?void 0:e.getBoundingBoxToWorld();if(o)for(var l=0;l<this.familyFruits.entities.length;l++){var u,r=this.familyFruits.entities[l].getComponent(s),a=null==(u=r.hitTransform)?void 0:u.getBoundingBoxToWorld();a&&(o.intersects(a)&&(r.killed=!0))}}},n}(l.System));n._RF.pop()}}}));

System.register("chunks:///_virtual/CocosFactory.ts",["cc","./CocosFloatingLabel.ts","./FormatUtils.ts"],(function(o){var t,c,n;return{setters:[function(o){t=o.cclegacy},function(o){c=o.CocosFloatingLabel},function(o){n=o.formatHandlers}],execute:function(){t._RF.push({},"6c46aG+9gRCgKE7AgAMZcoa","CocosFactory",void 0);o("CocosFactory",function(){function o(){}return o.buildFloatingLabel=function(o,t){var a=o.getComponent(c),e=n[t.formatter];a.label.string=e(t.score)},o}());t._RF.pop()}}}));

System.register("chunks:///_virtual/CocosFloatingLabel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ECocosNodeEvents.ts","./AnimationsUtils.ts"],(function(e){var o,t,n,i,a,l,r,s,c,p;return{setters:[function(e){o=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){a=e.cclegacy,l=e._decorator,r=e.Label,s=e.Component},function(e){c=e.ECocosNodeEvents},function(e){p=e.AnimationsUtils}],execute:function(){var u,b,f,y,g,h;a._RF.push({},"e481aEisqBIfYWpTy+0aSeT","CocosFloatingLabel",void 0);var m=l.ccclass,d=l.menu,v=l.property;e("CocosFloatingLabel",(u=m("CocosFloatingLabel"),b=d("**App/UI/CocosFloatingLabel"),f=v({type:r}),u(y=b((h=o((g=function(e){function o(){for(var o,t=arguments.length,a=new Array(t),l=0;l<t;l++)a[l]=arguments[l];return o=e.call.apply(e,[this].concat(a))||this,n(o,"label",h,i(o)),o}return t(o,e),o.prototype.onEnable=function(){var e=this;p.playAnimation(this.label.node).then((function(){e.node.emit(c.AnimationComplete)}))},o}(s)).prototype,"label",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=g))||y)||y));a._RF.pop()}}}));

System.register("chunks:///_virtual/CocosHitComponent.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,o,n,i,r,c,p,a;return{setters:[function(e){t=e.applyDecoratedDescriptor,o=e.inheritsLoose,n=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){r=e.cclegacy,c=e._decorator,p=e.Node,a=e.Component}],execute:function(){var s,l,u,f,C,h;r._RF.push({},"f1accJVz3RCxpftoJ9LOk0g","CocosHitComponent",void 0);var m=c.ccclass,y=c.menu,d=c.property;e("CocosHitComponent",(s=m("HitComponent"),l=y("**App/HitComponent"),u=d({type:p}),s(f=l((h=t((C=function(e){function t(){for(var t,o=arguments.length,r=new Array(o),c=0;c<o;c++)r[c]=arguments[c];return t=e.call.apply(e,[this].concat(r))||this,n(t,"hitNode",h,i(t)),t}return o(t,e),t}(a)).prototype,"hitNode",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=C))||f)||f));r._RF.pop()}}}));

System.register("chunks:///_virtual/CocosPlayerController.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameState.ts","./inject.ts"],(function(t){var o,e,n,r,a,c,i;return{setters:[function(t){o=t.inheritsLoose},function(t){e=t.cclegacy,n=t._decorator,r=t.Node,a=t.Component},function(t){c=t.GameState},function(t){i=t.inject}],execute:function(){var s;e._RF.push({},"3bfa2tZd5BGE7MRBlPiRnBC","CocosPlayerController",void 0);var l=n.ccclass,u=n.menu;t("CocosPlayerController",l("CocosPlayerController")(s=u("**App/CocosPlayerController")(s=function(t){function e(){for(var o,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(o=t.call.apply(t,[this].concat(n))||this)._gameState=i(c),o}return o(e,t),e.prototype.onLoad=function(){var t=this;this.node.on(r.EventType.MOUSE_MOVE,(function(o){var e=o.getUILocation();t._gameState.setBasketTargetPosition(e.x)})),this.node.on(r.EventType.TOUCH_MOVE,(function(o){var e=o.getUILocation();t._gameState.setBasketTargetPosition(e.x)}))},e}(a))||s)||s);e._RF.pop()}}}));

System.register("chunks:///_virtual/CocosUICounter.ts",["./rollupPluginModLoBabelHelpers.js","cc","./FormatUtils.ts","./inject.ts","./GameState.ts"],(function(t){var e,r,o,n,i,a,c,p,s,u,l,f,m,y;return{setters:[function(t){e=t.applyDecoratedDescriptor,r=t.inheritsLoose,o=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){i=t.cclegacy,a=t._decorator,c=t.Label,p=t.CCString,s=t.Enum,u=t.Component},function(t){l=t.FormatType,f=t.formatHandlers},function(t){m=t.inject},function(t){y=t.GameState}],execute:function(){var h,C,b,g,d,v,_,I,U;i._RF.push({},"c448a9R9A5MN6+NpSxa2A9p","CocosUICounter",void 0);var S=a.ccclass,F=a.menu,z=a.property,A=a.requireComponent;t("CocosUICounter",(h=S("UICounter"),C=F("**App/UI/UICounter"),b=A(c),g=z({type:p}),d=z({type:s(l)}),h(v=C(v=b((I=e((_=function(t){function e(){for(var e,r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i))||this,o(e,"property",I,n(e)),o(e,"formatter",U,n(e)),e._label=void 0,e._state=m(y),e}r(e,t);var i=e.prototype;return i.onLoad=function(){this._label=this.getComponent(c)},i.update=function(t){var e=this._state.getState()[this.property],r=f[this.formatter];this._label.string=r(e)},e}(u)).prototype,"property",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=e(_.prototype,"formatter",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return l.NoFormat}}),v=_))||v)||v)||v));i._RF.pop()}}}));

System.register("chunks:///_virtual/ConditionCallBack.ts",["cc"],(function(){var n;return{setters:[function(t){n=t.cclegacy}],execute:function(){n._RF.push({},"fa4b1pu++RBE6aXO+n7Saq+","ConditionCallBack",void 0),n._RF.pop()}}}));

System.register("chunks:///_virtual/dependency-injection.ts",["cc","./Dictionary.ts"],(function(n){var e,c;return{setters:[function(n){e=n.cclegacy},function(n){c=n.Dictionary}],execute:function(){e._RF.push({},"b5fe5fDvr1JkrzDdd7ZMd+J","dependency-injection",void 0);n("classMap",new c);e._RF.pop()}}}));

System.register("chunks:///_virtual/Dictionary.ts",["cc","./UniqueUtils.ts"],(function(t){var e,n;return{setters:[function(t){e=t.cclegacy},function(t){n=t.UniqueUtils}],execute:function(){e._RF.push({},"b0d4bGxboVEJ5aNd4DDR1dq","Dictionary",void 0);t("Dictionary",function(){function t(){this.map={}}var e=t.prototype;return e.get=function(t){var e=n.getObjectUniqueId(t);return this.map[e]},e.add=function(t,e){var i=n.getObjectUniqueId(t);this.map[i]=e},e.remove=function(t){var e=n.getObjectUniqueId(t);delete this.map[e]},e.forEach=function(t){for(var e,n=Object.keys(this.map),i=n.length,c=0;c<i;c++)e=n[c],t(this.map[e])},t}());e._RF.pop()}}}));

System.register("chunks:///_virtual/ECocosNodeEvents.ts",["cc"],(function(e){var o;return{setters:[function(e){o=e.cclegacy}],execute:function(){o._RF.push({},"dbe90oyPcJJ8q34V+bZf1l1","ECocosNodeEvents",void 0);e("ECocosNodeEvents",function(e){return e.AnimationComplete="animationComplete",e}({}));o._RF.pop()}}}));

System.register("chunks:///_virtual/EItemsCategory.ts",["cc"],(function(t){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"f692bEmqXFGTrDSSnGsJov+","EItemsCategory",void 0);t("EItemsCategory",function(t){return t[t.A=0]="A",t[t.B=1]="B",t[t.C=2]="C",t}({}));e._RF.pop()}}}));

System.register("chunks:///_virtual/EntitiesFactory.ts",["cc","./index.mjs_cjs=&original=.js","./FruitComponent.ts","./MovementComponent.ts","./BasketComponent.ts","./ViewComponent.ts","./HitComponent.ts","./PrefabNames.ts","./PositionComponent.ts","./CocosFactory.ts","./FormatUtils.ts","./index.js"],(function(t){var n,o,e,i,r,a,u,p,s,c,m,f,C;return{setters:[function(t){n=t.cclegacy,o=t.UITransform,e=t.view},null,function(t){i=t.FruitComponent},function(t){r=t.MovementComponent},function(t){a=t.BasketComponent},function(t){u=t.ViewComponent},function(t){p=t.HitComponent},function(t){s=t.PrefabNames},function(t){c=t.PositionComponent},function(t){m=t.CocosFactory},function(t){f=t.FormatType},function(t){C=t.default}],execute:function(){n._RF.push({},"be1abbvzmNEoJOsjewZOjlk","EntitiesFactory",void 0);var y=t("EEntityIDs",function(t){return t.FloatingLabel="FloatingLabel",t.Fruit="Fruit",t.Basket="Basket",t}({}));t("EntitiesFactory",function(){function t(){}return t.createFloatingLabelEntity=function(t,n){var o=new C.Entity;o.id=y.FloatingLabel;var e=o.putComponent(u);return e.prefabPath=s.ItemPoints,e.data={score:n,formatter:f.FloatingPoints},e.factoryFunc=m.buildFloatingLabel,o.putComponent(c).currentX=t.x,o.getComponent(c).currentY=t.y,o},t.createFruitEntity=function(t,n){var a=new C.Entity;a.id=y.Fruit,a.putComponent(i);var s=a.getComponent(i);s&&(s.category=t.category,s.type=t.type,s.points=t.points);var m=n.getComponent(o),f=m?m.width:e.getVisibleSize().width,l=n.getWorldPosition(),F=l.x-f/2+Math.random()*f,g=l.y;return a.putComponent(c).currentX=F,a.getComponent(c).currentY=g,a.putComponent(r).velocityY=-t.speed,a.putComponent(u).prefabPath="prefabs/fruits/type"+t.category+"/"+t.type,a.putComponent(p),a},t.createBasketEntity=function(){var t=new C.Entity;return t.id=y.Basket,t.putComponent(a),t.putComponent(c),t.putComponent(u).prefabPath="prefabs/Basket",t.putComponent(p),t},t}());n._RF.pop()}}}));

System.register("chunks:///_virtual/FormatUtils.ts",["cc"],(function(t){var o;return{setters:[function(t){o=t.cclegacy}],execute:function(){var n;o._RF.push({},"45e755l/g1GNJrnXnt0emek","FormatUtils",void 0);var r=t("FormatType",function(t){return t[t.NoFormat=0]="NoFormat",t[t.MMss=1]="MMss",t[t.TotalPoints=2]="TotalPoints",t[t.FloatingPoints=3]="FloatingPoints",t}({})),i=t("FormatUtils",function(){function t(){}return t.noFormat=function(t){return t.toString()},t.toMMss=function(t){if(t<0||!Number.isFinite(t))throw new Error("Invalid input: must be a non-negative finite number");var o=Math.floor(t/60),n=Math.floor(t%60);return(o<10?"0":"")+o+":"+(n<10?"0":"")+n},t.toTotalPoints=function(t){return t.toString()},t.toFloatingPoints=function(t){return"+"+t.toString()},t}());t("formatHandlers",((n={})[r.NoFormat]=i.noFormat,n[r.MMss]=i.toMMss,n[r.TotalPoints]=i.toTotalPoints,n[r.FloatingPoints]=i.toFloatingPoints,n));o._RF.pop()}}}));

System.register("chunks:///_virtual/FruitComponent.ts",["cc","./EItemsCategory.ts"],(function(t){var o,n;return{setters:[function(t){o=t.cclegacy},function(t){n=t.EItemsCategory}],execute:function(){o._RF.push({},"7c046b45l1Bur2kUZfx05jg","FruitComponent",void 0),t("FruitComponent",(function(t,o,e){void 0===t&&(t=n.A),void 0===o&&(o=""),void 0===e&&(e=0),this.category=t,this.type=o,this.points=e})).tag="FruitComponent",o._RF.pop()}}}));

System.register("chunks:///_virtual/GameConfig.ts",["cc"],(function(){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"33d3cLIIfhB37O3qJantrBs","GameConfig",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/GameEngine.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index.mjs_cjs=&original=.js","./inject.ts","./GameState.ts","./SpawnFruitSystem.ts","./ViewManagementSystem.ts","./BasketMovementSystem.ts","./Utils.ts","./BasketVSFruitCollisionSystem.ts","./ScoresSystem.ts","./MovementsSystem.ts","./KillFruitSystem.ts","./KillViewSystem.ts","./index.js"],(function(t){var e,n,i,s,o,a,c,m,r,u,f,S,l,y,_;return{setters:[function(t){e=t.inheritsLoose,n=t.createClass},function(t){i=t.cclegacy},null,function(t){s=t.inject},function(t){o=t.GameState},function(t){a=t.SpawnFruitSystem},function(t){c=t.ViewManagementSystem},function(t){m=t.BasketMovementSystem},function(t){r=t.Utils},function(t){u=t.BasketVSFruitCollisionSystem},function(t){f=t.ScoresSystem},function(t){S=t.MovementsSystem},function(t){l=t.KillFruitSystem},function(t){y=t.KillViewSystem},function(t){_=t.default}],execute:function(){i._RF.push({},"e7c71mO5/FJO7S3PoMoqbti","GameEngine",void 0),t("GameEngine",function(t){function i(){var e;return(e=t.call(this)||this)._gameState=s(o),e._gameSpeed=1,e._time=0,e._systemsList=[],e._config=null,e._viewPoolMap=new Map,e}e(i,t);var _=i.prototype;return _.init=function(t){this._config=t,this._initSystems(),this._gameState.startTime(t.time)},_.clean=function(){var t=this;this._systemsList.forEach((function(e){return t.removeSystem(e)})),this.entities.forEach((function(e){return t.removeEntity(e)})),this._gameState.clean()},_.update=function(e){var n=1/60;this._time+=e*this._gameSpeed;var i=Math.min(Math.floor(this._time/n),2);if(this._time/n>.99){i=i<1?1:i;for(var s=0;s<i;s++)t.prototype.update.call(this,r.roundTo(1e3*n,5)),this._time-=n}return this._gameState.spendTime(n*i),this._gameState.getState().timeLeft>=1},_._initSystems=function(){var t=this;this._systemsList=[new a,new S,new c(this._viewPoolMap),new u,new f,new m,new l,new y],this._systemsList.forEach((function(e){return t.addSystem(e)}))},n(i,[{key:"config",get:function(){return this._config}}],[{key:"instance",get:function(){return i._instance||(i._instance=new i),i._instance}}]),i}(_.Engine))._instance=void 0,i._RF.pop()}}}));

System.register("chunks:///_virtual/GameOverState.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AbstractBaseState.ts","./GameEngine.ts"],(function(t){var e,n,o,a,c;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,o=t.Button},function(t){a=t.AbstractBaseState},function(t){c=t.GameEngine}],execute:function(){n._RF.push({},"2aa6cakzYVP6pdrV0jAy54O","GameOverState",void 0);t("GameOverState",function(t){function n(){return t.apply(this,arguments)||this}return e(n,t),n.prototype.Execute=function(){var e=this;this._context.toastLabel.string=this._context.locale.get("game_over"),this._context.starterNode.on(o.EventType.CLICK,(function(){e._context.starterNode.off(o.EventType.CLICK),c.instance.clean(),t.prototype.Execute.call(e)}))},n}(a));n._RF.pop()}}}));

System.register("chunks:///_virtual/GameState.ts",["cc","./singleton.ts"],(function(t){var e,i;return{setters:[function(t){e=t.cclegacy},function(t){i=t.singleton}],execute:function(){var s;e._RF.push({},"6838ft3XrBDOKiOAXNtsn6o","GameState",void 0);t("GameState",i()(s=function(){function t(){this._timeLeft=0,this._score=0,this._basketTargetX=0}var e=t.prototype;return e.setBasketTargetPosition=function(t){this._basketTargetX=t},e.addScore=function(t){this._score+=t},e.startTime=function(t){this._timeLeft=t},e.spendTime=function(t){this._timeLeft-=t},e.getState=function(){return{timeLeft:this._timeLeft,score:this._score,basketPositionX:this._basketTargetX}},e.clean=function(){this._timeLeft=0,this._score=0,this._basketTargetX=0},t}())||s);e._RF.pop()}}}));

System.register("chunks:///_virtual/HitComponent.ts",["cc"],(function(t){var n;return{setters:[function(t){n=t.cclegacy}],execute:function(){n._RF.push({},"152f3CU3cVP7KdoEGbPEoq0","HitComponent",void 0),t("HitComponent",(function(t,n){void 0===t&&(t=null),void 0===n&&(n=!1),this.hitTransform=t,this.killed=n})).tag="HitComponent",n._RF.pop()}}}));

System.register("chunks:///_virtual/IBaseState.ts",["cc"],(function(){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"1a1f5RbwXRLDILFh+dwlqGQ","IBaseState",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/IBaseStateMachine.ts",["cc"],(function(){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"cb77e8hpYBNx7VLiXI7ZBeU","IBaseStateMachine",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/IBaseTransition.ts",["cc"],(function(){var t;return{setters:[function(n){t=n.cclegacy}],execute:function(){t._RF.push({},"19a9bDi9BlLnKh8q1x2AHtQ","IBaseTransition",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/IGameState.ts",["cc"],(function(){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"fcf66Bd77VM5qrXW14vptw+","IGameState",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/IGuard.ts",["cc"],(function(){var t;return{setters:[function(c){t=c.cclegacy}],execute:function(){t._RF.push({},"53fc8GWanVB/It4xKI7a2WH","IGuard",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/IGuarded.ts",["cc"],(function(){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"1ff2djjkM9I0Yp6wkliRYL9","IGuarded",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/IInjectable.ts",["cc"],(function(){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"5ffbfVeUEJCvJwbXlfFqKh3","IInjectable",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/IKillable.ts",["cc"],(function(){var e;return{setters:[function(c){e=c.cclegacy}],execute:function(){e._RF.push({},"1db8bu4fR1AobyZHWkXncOH","IKillable",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/IMapping.ts",["cc"],(function(){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"e6e3dudqgNP64RzKTxBGVU6","IMapping",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/inject.ts",["cc","./Kernel.ts"],(function(e){var n,t;return{setters:[function(e){n=e.cclegacy},function(e){t=e.Kernel}],execute:function(){e("inject",(function(e){return c.get(e)})),n._RF.push({},"8c7b7m0TdtBJYNM2KuFi1Vr","inject",void 0);var c=e("kernel",new t);n._RF.pop()}}}));

System.register("chunks:///_virtual/injectable.ts",["cc","./InjectionMapping.ts","./dependency-injection.ts"],(function(n){var e,t,c;return{setters:[function(n){e=n.cclegacy},function(n){t=n.InjectionMapping},function(n){c=n.classMap}],execute:function(){n("injectable",(function(){return function(n){c.get(n)||new t(c,n)}})),e._RF.push({},"a5010v41oNMoZjdMLSaCQN9","injectable",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/InjectionMapping.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Mapping.ts"],(function(n){var t,e,i,s;return{setters:[function(n){t=n.inheritsLoose,e=n.construct},function(n){i=n.cclegacy},function(n){s=n.Mapping}],execute:function(){i._RF.push({},"082277rfzRPa5cmLyZdfSrE","InjectionMapping",void 0);n("InjectionMapping",function(n){function i(t,e){var i;return(i=n.call(this)||this)._instanceResultConstructor=null,i.instance=null,i.isSingleton=!1,i.args=[],i._isForceCreation=!1,i.classesMap=t,i.to(e),i}t(i,n);var s=i.prototype;return s.getInstance=function(){return this.isSingleton?(this.instance||(this.instance=this.createInstance()),this.instance):this.createInstance()},s.createInstance=function(){var n=this.getConstructor();return e(n,this.args)},s.getConstructor=function(){if(this._instanceResultConstructor)return this._instanceResultConstructor;throw new Error("Constructor is not bound!")},s.hasInstance=function(){return!!this.instance&&this.isSingleton},s.destroyInstance=function(){this.instance=null},s.asSingleton=function(){return this.isSingleton=!0,this},s.to=function(n){if(!n)throw new Error("There is an undefined constructor you are trying bind to.");var t=this.existentialType(this);return this.classesMap.get(n)&&console.warn("Constructor already bound "+n.name),t._instanceResultConstructor=n,t.instance=null,this.classesMap.add(n,this),t},s.isForceCreation=function(){return this._isForceCreation},s.forceCreation=function(){return this._isForceCreation=!0,this},s.existentialType=function(n){return n},i}(s));i._RF.pop()}}}));

System.register("chunks:///_virtual/IntroState.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AbstractBaseState.ts"],(function(t){var e,n,o,c;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,o=t.Button},function(t){c=t.AbstractBaseState}],execute:function(){n._RF.push({},"d2bef7j3aVDLrtnnQY/IWcP","IntroState",void 0);t("IntroState",function(t){function n(){return t.apply(this,arguments)||this}return e(n,t),n.prototype.Execute=function(){var e=this;this._context.toastLabel.string=this._context.locale.get("intro"),this._context.starterNode.on(o.EventType.CLICK,(function(){e._context.starterNode.off(o.EventType.CLICK),e._context.toastNode.active=!1,t.prototype.Execute.call(e)}))},n}(c));n._RF.pop()}}}));

System.register("chunks:///_virtual/InvalidTransitionException.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var i,n,e,r;return{setters:[function(t){i=t.inheritsLoose,n=t.assertThisInitialized,e=t.wrapNativeSuper},function(t){r=t.cclegacy}],execute:function(){r._RF.push({},"be417pJayxHSacz1fC83SxI","InvalidTransitionException",void 0);t("InvalidTransitionException",function(t){function e(i){var r;return r=t.call(this,i)||this,Object.setPrototypeOf(n(r),e.prototype),r}return i(e,t),e}(e(Error)));r._RF.pop()}}}));

System.register("chunks:///_virtual/IPool.ts",["cc"],(function(){var t;return{setters:[function(c){t=c.cclegacy}],execute:function(){t._RF.push({},"88ab1WjIzNLmIbYLQHMEJF4","IPool",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/IStateMachineContext.ts",["cc"],(function(){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"755a4kU6aNBFZ8FUIv3A+lk","IStateMachineContext",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/IStateMachineWithBehaviourOptions.ts",["cc"],(function(){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"0b30cnbcBlB8LJtsMZ/XuyP","IStateMachineWithBehaviourOptions",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/ItemsPool.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AbstractPool.ts"],(function(t){var e,o,n,r;return{setters:[function(t){e=t.inheritsLoose},function(t){o=t.cclegacy,n=t.instantiate},function(t){r=t.AbstractPool}],execute:function(){o._RF.push({},"665e6QCj9tKvaA7Bo1+TfsB","ItemsPool",void 0);t("ItemsPool",function(t){function o(e){var o;return(o=t.call(this)||this).prefab=e,o}return e(o,t),o.prototype.createNewInstance=function(){return n(this.prefab)},o}(r));o._RF.pop()}}}));

System.register("chunks:///_virtual/ITerminable.ts",["cc"],(function(){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"fa2e4QMVxRHgKtUN59GV8Gn","ITerminable",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/Kernel.ts",["cc","./InjectionMapping.ts","./dependency-injection.ts"],(function(n){var t,e,r;return{setters:[function(n){t=n.cclegacy},function(n){e=n.InjectionMapping},function(n){r=n.classMap}],execute:function(){t._RF.push({},"a62918MeB1FyqtxLIsiKtcg","Kernel",void 0);n("Kernel",function(){function n(){}var t=n.prototype;return t.bind=function(n){var t=this.getBinding(n);return t||(t=new e(r,n)),t},t.get=function(n){var t=r.get(n);if(!t)throw new Error("There is no any binding for "+n+" please bind the class before inject()");return t.getInstance()},t.getBinding=function(n){if(!n)throw Error("you are trying to get undefined constructor");return r.get(n)},t.activate=function(){var n=[];r.forEach((function(t){return n.push(t)})),n.forEach((function(n){n.isForceCreation()&&n.getInstance()}))},n}());t._RF.pop()}}}));

System.register("chunks:///_virtual/KillFruitSystem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index.mjs_cjs=&original=.js","./FruitComponent.ts","./HitComponent.ts","./NodeNames.ts","./PositionComponent.ts","./index.js"],(function(t){var n,i,e,o,l,s,r,u;return{setters:[function(t){n=t.inheritsLoose},function(t){i=t.cclegacy,e=t.find},null,function(t){o=t.FruitComponent},function(t){l=t.HitComponent},function(t){s=t.NodeNames},function(t){r=t.PositionComponent},function(t){u=t.default}],execute:function(){i._RF.push({},"3a751g4dMZAbahRPFe7VKFA","KillFruitSystem",void 0);t("KillFruitSystem",function(t){function i(){for(var n,i=arguments.length,e=new Array(i),o=0;o<i;o++)e[o]=arguments[o];return(n=t.call.apply(t,[this].concat(e))||this).killZone=void 0,n.family=void 0,n._engine=null,n}n(i,t);var c=i.prototype;return c.onAttach=function(n){t.prototype.onAttach.call(this,n),this.killZone=e(s.ZoneKill),this._engine=n,this.family=new u.FamilyBuilder(n).include(o).include(l).build()},c.update=function(t,n){for(var i=this.killZone.getWorldPosition().y,e=0;e<this.family.entities.length;e++){var o=this.family.entities[e],s=o.getComponent(r);s&&s.currentY<i&&t.removeEntity(o),o.getComponent(l).killed&&t.removeEntity(o)}},i}(u.System));i._RF.pop()}}}));

System.register("chunks:///_virtual/KillViewSystem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index.mjs_cjs=&original=.js","./ViewComponent.ts","./index.js"],(function(t){var i,e,n,o;return{setters:[function(t){i=t.inheritsLoose},function(t){e=t.cclegacy},null,function(t){n=t.ViewComponent},function(t){o=t.default}],execute:function(){e._RF.push({},"aad060dp0BCTriGuy556Yfs","KillViewSystem",void 0);t("KillViewSystem",function(t){function e(){for(var i,e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return(i=t.call.apply(t,[this].concat(n))||this).family=void 0,i}i(e,t);var l=e.prototype;return l.onAttach=function(i){t.prototype.onAttach.call(this,i),this.family=new o.FamilyBuilder(i).include(n).build()},l.update=function(t,i){for(var e=0;e<this.family.entities.length;e++){var o=this.family.entities[e];o.getComponent(n).killed&&t.removeEntity(o)}},e}(o.System));e._RF.pop()}}}));

System.register("chunks:///_virtual/LoadingState.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AbstractBaseState.ts","./AssetsLoader.ts"],(function(t){var e,n,o,a,r,c;return{setters:[function(t){e=t.inheritsLoose,n=t.asyncToGenerator,o=t.regeneratorRuntime},function(t){a=t.cclegacy},function(t){r=t.AbstractBaseState},function(t){c=t.AssetsLoader}],execute:function(){a._RF.push({},"1fe45T1I+pHaaBS1lXZVO0A","LoadingState",void 0);t("LoadingState",function(t){function a(){for(var e,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return(e=t.call.apply(t,[this].concat(o))||this).DEFAULT_LOCALE="ru",e}e(a,t);var r=a.prototype;return r.Execute=function(){var e=this;this._context.toastNode.active=!0,this.load().then((function(){t.prototype.Execute.call(e)}))},r.load=function(){var t=n(o().mark((function t(){var e,n=this;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.loadJSON("i18n/"+this.DEFAULT_LOCALE);case 2:return e=t.sent,this._context.locale=new Map,Object.keys(e).forEach((function(t){n._context.locale.set(t,e[t])})),this._context.toastLabel.string=this._context.locale.get("loading"),t.next=8,c.loadJSON("config");case 8:this._context.config=t.sent;case 9:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),a}(r));a._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./AppIndex.ts","./NodeNames.ts","./PrefabNames.ts","./CocosHitComponent.ts","./CocosPlayerController.ts","./ECocosNodeEvents.ts","./CocosFloatingLabel.ts","./CocosUICounter.ts","./GameEngine.ts","./BasketComponent.ts","./FruitComponent.ts","./HitComponent.ts","./IKillable.ts","./MovementComponent.ts","./PositionComponent.ts","./ViewComponent.ts","./BasketMovementSystem.ts","./BasketVSFruitCollisionSystem.ts","./KillFruitSystem.ts","./KillViewSystem.ts","./MovementsSystem.ts","./ScoresSystem.ts","./SpawnFruitSystem.ts","./ViewManagementSystem.ts","./CocosFactory.ts","./EntitiesFactory.ts","./AppContext.ts","./AppEvents.ts","./AppStateMachine.ts","./AbstractBaseState.ts","./AbstractBaseStateMachine.ts","./AbstractEventDispatcher.ts","./AbstractStateMachineContext.ts","./AbstractTransition.ts","./StateMachineBase.ts","./StateTransition.ts","./StateMachineBehaviorEnum.ts","./TransitionBehaviourEnum.ts","./AmbiguousInitialStateException.ts","./InvalidTransitionException.ts","./NullInitialStateException.ts","./NullStateException.ts","./StateNotFoundException.ts","./WrongMachineStateException.ts","./WrongStateIndexException.ts","./ConditionCallBack.ts","./IBaseState.ts","./IBaseStateMachine.ts","./IBaseTransition.ts","./IStateMachineContext.ts","./IStateMachineWithBehaviourOptions.ts","./BaseTerminableState.ts","./BaseTerminableStateMachine.ts","./ITerminable.ts","./TerminableContext.ts","./GameOverState.ts","./IntroState.ts","./LoadingState.ts","./PlayGameState.ts","./InjectionMapping.ts","./Kernel.ts","./injectable.ts","./singleton.ts","./dependency-injection.ts","./inject.ts","./IGuard.ts","./IGuarded.ts","./IInjectable.ts","./IMapping.ts","./Dictionary.ts","./Mapping.ts","./Type.ts","./UniqueUtils.ts","./IGameState.ts","./AbstractPool.ts","./IPool.ts","./ItemsPool.ts","./GameState.ts","./EItemsCategory.ts","./GameConfig.ts","./AnimationsUtils.ts","./ArrayUtils.ts","./AssetsLoader.ts","./FormatUtils.ts","./TimeoutUtils.ts","./Utils.ts"],(function(){return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/Mapping.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var r,t;return{setters:[function(e){r=e.createForOfIteratorHelperLoose},function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"250f36yUtJPe4R3RWY0HezN","Mapping",void 0);e("Mapping",function(){function e(){this.guards=[],this.executeOnce=!1}e.extractAllProperties=function(e){var r=[];for(var t in e)e.hasOwnProperty(t)&&"guards"!==t&&"executeOnce"!==t&&r.push(t);return r};var t=e.prototype;return t.isOnce=function(){return this.executeOnce},t.once=function(){return this.executeOnce=!0,this},t.withGuards=function(){for(var e=arguments.length,r=new Array(e),t=0;t<e;t++)r[t]=arguments[t];return Array.prototype.push.apply(this.guards,r),this},t.executionAllowedByGuards=function(e){for(var t,n=r(this.guards);!(t=n()).done;){if(!(0,t.value)(e))return!1}return!0},t.createFilter=function(t){if(!t)return{};for(var n,u={},i=e.extractAllProperties(this),o=r(i);!(n=o()).done;){var c=n.value;c in t&&typeof this[c]==typeof t[c]&&(u[c]=t[c])}return u},e}());t._RF.pop()}}}));

System.register("chunks:///_virtual/MovementComponent.ts",["cc"],(function(t){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"a2a0fWGrWNHVaUQnGACfcba","MovementComponent",void 0),t("MovementComponent",(function(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.velocityX=t,this.velocityY=e})).tag="MovementComponent",e._RF.pop()}}}));

System.register("chunks:///_virtual/MovementsSystem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index.mjs_cjs=&original=.js","./MovementComponent.ts","./PositionComponent.ts","./index.js"],(function(t){var n,e,o,i,s;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy},null,function(t){o=t.MovementComponent},function(t){i=t.PositionComponent},function(t){s=t.default}],execute:function(){e._RF.push({},"f09cbtBFDFGd6j9hb2xPkiL","MovementsSystem",void 0);t("MovementsSystem",function(t){function e(){for(var n,e=arguments.length,o=new Array(e),i=0;i<e;i++)o[i]=arguments[i];return(n=t.call.apply(t,[this].concat(o))||this).family=void 0,n}n(e,t);var c=e.prototype;return c.onAttach=function(n){t.prototype.onAttach.call(this,n),this.family=new s.FamilyBuilder(n).include(o).build()},c.update=function(t,n){for(var e=0;e<this.family.entities.length;e++){var s=this.family.entities[e],c=s.getComponent(o),r=s.getComponent(i);r.currentX+=c.velocityX*n,r.currentY+=c.velocityY*n}},e}(s.System));e._RF.pop()}}}));

System.register("chunks:///_virtual/NodeNames.ts",["cc"],(function(a){var e;return{setters:[function(a){e=a.cclegacy}],execute:function(){e._RF.push({},"6f84cyvqUtINYAW7RWuuAGn","NodeNames",void 0);a("NodeNames",function(a){return a.Canvas="Canvas",a.Camera="Canvas/Camera",a.ZoneBasket="Canvas/ZoneBasket",a.ZoneSpawn="Canvas/ZoneSpawn",a.ZoneKill="Canvas/ZoneKill",a.TotalPoints="Canvas/TotalPoints",a.ToastMessage="Canvas/ToastMessage",a.ViewContainer="Canvas/ViewContainer",a}({}));e._RF.pop()}}}));

System.register("chunks:///_virtual/NullInitialStateException.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,i,n,r;return{setters:[function(t){e=t.inheritsLoose,i=t.assertThisInitialized,n=t.wrapNativeSuper},function(t){r=t.cclegacy}],execute:function(){r._RF.push({},"e9009olY/xJV7c5dRzG9By4","NullInitialStateException",void 0);t("NullInitialStateException",function(t){function n(e){var r;return r=t.call(this,e)||this,Object.setPrototypeOf(i(r),n.prototype),r}return e(n,t),n}(n(Error)));r._RF.pop()}}}));

System.register("chunks:///_virtual/NullStateException.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,i,r,n;return{setters:[function(t){e=t.inheritsLoose,i=t.assertThisInitialized,r=t.wrapNativeSuper},function(t){n=t.cclegacy}],execute:function(){n._RF.push({},"9af11fcjyZOOa+4QF33iZMo","NullStateException",void 0);t("NullStateException",function(t){function r(e){var n;return n=t.call(this,e)||this,Object.setPrototypeOf(i(n),r.prototype),n}return e(r,t),r}(r(Error)));n._RF.pop()}}}));

System.register("chunks:///_virtual/PlayGameState.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AbstractBaseState.ts","./GameEngine.ts"],(function(t){var e,n,a,c;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){a=t.AbstractBaseState},function(t){c=t.GameEngine}],execute:function(){n._RF.push({},"39a90WKIElKbr15jjSw7RIX","PlayGameState",void 0);t("PlayGameState",function(t){function n(){for(var e,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))||this)._game=c.instance,e}return e(n,t),n.prototype.Execute=function(){var e=this;this._context.gameUI.active=!0,this._game.init(this._context.config),this._context.onUpdate=function(n){e._game.update(n)||(e._context.onUpdate=null,e._context.gameUI.active=!1,e._context.toastNode.active=!0,t.prototype.Execute.call(e))}},n}(a));n._RF.pop()}}}));

System.register("chunks:///_virtual/PositionComponent.ts",["cc"],(function(t){var n;return{setters:[function(t){n=t.cclegacy}],execute:function(){n._RF.push({},"646aeKdPyZAA5mlRtkFvczz","PositionComponent",void 0),t("PositionComponent",(function(t,n){void 0===t&&(t=0),void 0===n&&(n=0),this.currentX=t,this.currentY=n})).tag="PositionComponent",n._RF.pop()}}}));

System.register("chunks:///_virtual/PrefabNames.ts",["cc"],(function(e){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"9f6dcL3K/FO4pdUxw6mt0De","PrefabNames",void 0);e("PrefabNames",function(e){return e.ItemPoints="UI/ItemPoints",e}({}));t._RF.pop()}}}));

System.register("chunks:///_virtual/ScoresSystem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index.mjs_cjs=&original=.js","./FruitComponent.ts","./HitComponent.ts","./GameState.ts","./inject.ts","./EntitiesFactory.ts","./PositionComponent.ts","./index.js"],(function(t){var n,e,i,o,c,s,a,r,u,l;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy,i=t.Vec3},null,function(t){o=t.FruitComponent},function(t){c=t.HitComponent},function(t){s=t.GameState},function(t){a=t.inject},function(t){r=t.EntitiesFactory},function(t){u=t.PositionComponent},function(t){l=t.default}],execute:function(){e._RF.push({},"7c30bGHRz9FKa1DcoeQCWiK","ScoresSystem",void 0);t("ScoresSystem",function(t){function e(){for(var n,e=arguments.length,i=new Array(e),o=0;o<e;o++)i[o]=arguments[o];return(n=t.call.apply(t,[this].concat(i))||this).family=void 0,n.gameState=a(s),n}n(e,t);var m=e.prototype;return m.onAttach=function(n){t.prototype.onAttach.call(this,n),this.family=new l.FamilyBuilder(n).include(o).include(c).build()},m.update=function(t,n){for(var e=0;e<this.family.entities.length;e++){var s=this.family.entities[e];if(s.getComponent(c).killed){var a=s.getComponent(o),l=s.getComponent(u);t.addEntity(r.createFloatingLabelEntity(new i(l.currentX,l.currentY),a.points)),this.gameState.addScore(a.points)}}},e}(l.System));e._RF.pop()}}}));

System.register("chunks:///_virtual/singleton.ts",["cc","./injectable.ts","./dependency-injection.ts"],(function(n){var t,e,c;return{setters:[function(n){t=n.cclegacy},function(n){e=n.injectable},function(n){c=n.classMap}],execute:function(){n("singleton",(function(){return function(n){e()(n),c.get(n).asSingleton()}})),t._RF.push({},"8ac08EEguhNxYRLAGreVS9f","singleton",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/SpawnFruitSystem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index.mjs_cjs=&original=.js","./FruitComponent.ts","./EntitiesFactory.ts","./HitComponent.ts","./NodeNames.ts","./index.js"],(function(t){var n,e,i,s,o,a,r,u,c;return{setters:[function(t){n=t.inheritsLoose,e=t.createForOfIteratorHelperLoose},function(t){i=t.cclegacy,s=t.find},null,function(t){o=t.FruitComponent},function(t){a=t.EntitiesFactory},function(t){r=t.HitComponent},function(t){u=t.NodeNames},function(t){c=t.default}],execute:function(){i._RF.push({},"97f4fjsJBBLxoSYAScRvuG1","SpawnFruitSystem",void 0);t("SpawnFruitSystem",function(t){function i(){for(var n,e=arguments.length,i=new Array(e),s=0;s<e;s++)i[s]=arguments[s];return(n=t.call.apply(t,[this].concat(i))||this).family=void 0,n.spawnZone=void 0,n._spawnItems=[],n._nextSpawnTime=0,n._spawnInterval=void 0,n._engine=null,n}n(i,t);var p=i.prototype;return p.onAttach=function(n){t.prototype.onAttach.call(this,n),this._spawnItems=n.config.items,this._spawnInterval=n.config.rate,this.spawnZone=s(u.ZoneSpawn),this._engine=n,this.family=new c.FamilyBuilder(n).include(o).include(r).build()},p.update=function(t,n){this._nextSpawnTime-=n,this._nextSpawnTime<=0&&(this._spawnFruit(),this._nextSpawnTime=this._spawnInterval)},p._spawnFruit=function(){for(var t,n=this._spawnItems.reduce((function(t,n){return t+n.weight}),0),i=Math.random()*n,s=null,o=e(this._spawnItems);!(t=o()).done;){var r=t.value;if((i-=r.weight)<=0){s=r;break}}if(s){var u=a.createFruitEntity(s,this.spawnZone);this._engine.addEntity(u)}},i}(c.System));i._RF.pop()}}}));

System.register("chunks:///_virtual/StateMachineBase.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AbstractBaseStateMachine.ts"],(function(t){var e,n,a;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){a=t.AbstractBaseStateMachine}],execute:function(){n._RF.push({},"04d72tqVZlOoq2nyugo8AXd","StateMachineBase",void 0);t("StateMachineBase",function(t){function n(e,n){return void 0===e&&(e=null),void 0===n&&(n=null),t.call(this,e,n)||this}return e(n,t),n}(a));n._RF.pop()}}}));

System.register("chunks:///_virtual/StateMachineBehaviorEnum.ts",["cc"],(function(e){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"b415457rGJMfrlFKOSRcSJD","StateMachineBehaviorEnum",void 0);e("StateMachineBehaviorEnum",function(e){return e[e.STOP_ON_INITIAL_STATE=0]="STOP_ON_INITIAL_STATE",e}({}));t._RF.pop()}}}));

System.register("chunks:///_virtual/StateNotFoundException.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,o,n,r;return{setters:[function(t){e=t.inheritsLoose,o=t.assertThisInitialized,n=t.wrapNativeSuper},function(t){r=t.cclegacy}],execute:function(){r._RF.push({},"c708fXu9SNNf6YnHpFEHyyx","StateNotFoundException",void 0);t("StateNotFoundException",function(t){function n(e){var r;return r=t.call(this,e)||this,Object.setPrototypeOf(o(r),n.prototype),r}return e(n,t),n}(n(Error)));r._RF.pop()}}}));

System.register("chunks:///_virtual/StateTransition.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AbstractTransition.ts","./TransitionBehaviourEnum.ts"],(function(t){var n,i,o,r;return{setters:[function(t){n=t.inheritsLoose},function(t){i=t.cclegacy},function(t){o=t.AbstractTransition},function(t){r=t.TransitionBehaviorEnum}],execute:function(){i._RF.push({},"ddc47x48h5N8Lb6fleCmbbz","StateTransition",void 0);t("StateTransition",function(t){function i(n,i,o,s,e){return void 0===o&&(o=null),void 0===s&&(s=0),void 0===e&&(e=r.CONTINUE_AFTER_TRANSITION),t.call(this,n,i,o,s,e)||this}return n(i,t),i}(o));i._RF.pop()}}}));

System.register("chunks:///_virtual/TerminableContext.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AbstractStateMachineContext.ts"],(function(t){var e,n,r,i;return{setters:[function(t){e=t.inheritsLoose,n=t.createClass},function(t){r=t.cclegacy},function(t){i=t.AbstractStateMachineContext}],execute:function(){r._RF.push({},"3ddbfmUzjNACrOv5dnKu2De","TerminableContext",void 0);t("TerminableContext",function(t){function r(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))||this).isTerminated=!1,e}return e(r,t),n(r,[{key:"StateMachine",get:function(){return this._stateMachine}}]),r}(i));r._RF.pop()}}}));

System.register("chunks:///_virtual/TimeoutUtils.ts",["cc"],(function(t){var e,i;return{setters:[function(t){e=t.cclegacy,i=t.tween}],execute:function(){e._RF.push({},"202a1eWrD1EO5cypbw9HAfA","TimeoutUtils",void 0);var n=t("TimeoutUtils",function(){function t(){}return t.delay=function(e){return new Promise((function(i){return t.setTimeout(i,e)}))},t.getTimeOutPromise=function(e){return new Promise((function(i){t.setTimeout((function(){i()}),e)}))},t.setTimeout=function(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),s=2;s<n;s++)r[s-2]=arguments[s];var u=this.getId(),o=i({time:0}).by(e/1e3,{time:100}),a=i().call((function(){t(r)}));return o.then(a).start(),this.timers[u]=o,u},t.isActive=function(t){return void 0!==this.timers[t]},t.clearTimeout=function(t){this.clearById(t)},t.setInterval=function(t,e){for(var i=this.getId(),n=arguments.length,r=new Array(n>2?n-2:0),s=2;s<n;s++)r[s-2]=arguments[s];var u=this.getIntervalTween(e,t,i,r);return this.timers[i]=u,i},t.clearInterval=function(t){this.clearById(t)},t.clearById=function(t){if(isNaN(t))console.warn("TimeoutUtils: check timeout/interval id. id = "+t);else{var e=this.timers[t];e&&(e.stop(),delete this.timers[t])}},t.getId=function(){return this.maxInteger=this.maxInteger||Number.MAX_SAFE_INTEGER||Math.pow(2,53)-1,this.lastId>=this.maxInteger-1&&(this.lastId=0),++this.lastId},t.getIntervalTween=function(e,n,r,s){var u=this,o=i({time:0}).by(e/1e3,{time:100}),a=i().call((function(){n(s),u.timers[r]&&(t.getIntervalTween(e,n,r,s),u.timers[r]=o)}));return o.then(a).start(),o},t}());n.lastId=0,n.maxInteger=void 0,n.timers={},e._RF.pop()}}}));

System.register("chunks:///_virtual/TransitionBehaviourEnum.ts",["cc"],(function(n){var T;return{setters:[function(n){T=n.cclegacy}],execute:function(){T._RF.push({},"68b17YQud9FCoFoyn97jU0x","TransitionBehaviourEnum",void 0);n("TransitionBehaviorEnum",function(n){return n[n.STOP_AFTER_TRANSITION=0]="STOP_AFTER_TRANSITION",n[n.CONTINUE_AFTER_TRANSITION=1]="CONTINUE_AFTER_TRANSITION",n}({}));T._RF.pop()}}}));

System.register("chunks:///_virtual/Type.ts",["cc"],(function(){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"82d829Y5zBL6JOyii5iNjq2","Type",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/UniqueUtils.ts",["cc"],(function(e){var n;return{setters:[function(e){n=e.cclegacy}],execute:function(){n._RF.push({},"bcf8aDZNAtM6JDzUYXUr9YD","UniqueUtils",void 0);var i=e("UniqueUtils",function(){function e(){}return e.getObjectUniqueId=function(n){return n.hasOwnProperty(e.UNIQUE_ID_PROP_NAME)||(e.prevGlobalUniqueId=e.globalUniqueId,e.globalUniqueId++,e.globalUniqueId===e.prevGlobalUniqueId&&(e.globalUniqueId=0),n[e.UNIQUE_ID_PROP_NAME]=e.globalUniqueId.toString()),n[e.UNIQUE_ID_PROP_NAME]},e}());i.UNIQUE_ID_PROP_NAME="UniqueId",i.globalUniqueId=0,i.prevGlobalUniqueId=0,n._RF.pop()}}}));

System.register("chunks:///_virtual/Utils.ts",["cc"],(function(n){var t;return{setters:[function(n){t=n.cclegacy}],execute:function(){t._RF.push({},"66b1bWCUExO06FnMXRy+zFG","Utils",void 0);var e=n("Point",(function(n,t){void 0===n&&(n=0),void 0===t&&(t=0),this.x=n,this.y=t}));n("Utils",function(){function n(){}return n.roundTo=function(n,t){return void 0===t&&(t=2),Math.round(n*Math.pow(10,t))/Math.pow(10,t)},n.getDeltaInSec=function(t,e){return void 0===e&&(e=5),n.roundTo(t/1e3,e)},n.copyObject=function(n){return JSON.parse(JSON.stringify(n))},n.getPosOnLine=function(n,t,r){return new e(n.x*(1-r)+t.x*r,n.y*(1-r)+t.y*r)},n.len=function(n){return Math.sqrt(n.x*n.x+n.y*n.y)},n.delta=function(n,t){return new e(t.x-n.x,t.y-n.y)},n.angle=function(n,t){return 180*Math.atan2(t.y-n.y,t.x-n.x)/Math.PI},n}());t._RF.pop()}}}));

System.register("chunks:///_virtual/ViewComponent.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ECocosNodeEvents.ts"],(function(t){var n,o,e;return{setters:[function(t){n=t.createClass},function(t){o=t.cclegacy},function(t){e=t.ECocosNodeEvents}],execute:function(){o._RF.push({},"e572fUZvEBJQK8Bib/32ZCK","ViewComponent",void 0);t("ViewComponent",function(){function t(t,n,o,e,i){void 0===t&&(t=null),void 0===n&&(n=""),void 0===o&&(o=null),void 0===e&&(e=null),void 0===i&&(i=!1),this.tag="ViewComponent",this._node=t,this.prefabPath=n,this.data=o,this.factoryFunc=e,this.killed=i}return n(t,[{key:"node",get:function(){return this._node},set:function(t){var n=this;this._node=t,t&&(this.data&&this.factoryFunc&&this.factoryFunc(this.node,this.data),this._node.once(e.AnimationComplete,(function(){n.killed=!0})))}}]),t}());o._RF.pop()}}}));

System.register("chunks:///_virtual/ViewManagementSystem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index.mjs_cjs=&original=.js","./ViewComponent.ts","./AssetsLoader.ts","./ItemsPool.ts","./HitComponent.ts","./CocosHitComponent.ts","./NodeNames.ts","./PositionComponent.ts","./index.js"],(function(t){var e,n,o,i,s,a,r,c,u,l,d,f,m,p;return{setters:[function(t){e=t.inheritsLoose,n=t.asyncToGenerator,o=t.regeneratorRuntime},function(t){i=t.cclegacy,s=t.find,a=t.UITransform},null,function(t){r=t.ViewComponent},function(t){c=t.AssetsLoader},function(t){u=t.ItemsPool},function(t){l=t.HitComponent},function(t){d=t.CocosHitComponent},function(t){f=t.NodeNames},function(t){m=t.PositionComponent},function(t){p=t.default}],execute:function(){i._RF.push({},"7e14aZnkS5JH474zd3ktGW8","ViewManagementSystem",void 0);t("ViewManagementSystem",function(t){function i(e){var n;return(n=t.call(this)||this).family=void 0,n._viewPoolMap=void 0,n._toAdd=[],n._toRemove=[],n._viewPoolMap=e,n}e(i,t);var h=i.prototype;return h.onAttach=function(e){t.prototype.onAttach.call(this,e),e.addEntityListener(this),this.family=new p.FamilyBuilder(e).include(r).build()},h.update=function(t,e){var n=this;this._toAdd.forEach((function(t){var e=t.getComponent(r);n.createNodeForEntity(t,e)})),this._toAdd=[],this._toRemove.forEach((function(t){n.killEntityView(t)})),this._toRemove=[];for(var o=0;o<this.family.entities.length;o++){var i=this.family.entities[o],s=i.getComponent(m),a=i.getComponent(r);s&&null!=a&&a.node&&a.node.setWorldPosition(s.currentX,s.currentY,0)}},h.onDetach=function(e){var n=this;this.family.entities.forEach((function(t){n.killEntityView(t)})),t.prototype.onDetach.call(this,e)},h.killEntityView=function(t){var e=t.getComponent(r);e.node&&(this._viewPoolMap.get(e.prefabPath).release(e.node),e.node.removeFromParent(),e.node=null)},h.onEntityAdded=function(t){this._toAdd.push(t)},h.onEntityRemoved=function(t){this._toRemove.push(t)},h.createNodeForEntity=function(){var t=n(o().mark((function t(e,n){var i,m,p,h;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this._viewPoolMap.has(n.prefabPath)){t.next=5;break}return t.next=3,c.loadPrefab(n.prefabPath);case 3:i=t.sent,this._viewPoolMap.set(n.prefabPath,new u(i).init(1));case 5:m=this._viewPoolMap.get(n.prefabPath).obtain(),p=s(f.ViewContainer),m.setWorldPosition(1e3,1e3,0),p&&(p.addChild(m),e.getComponent(r).node=m,e.hasComponent(l)&&m.getComponent(d)&&(e.getComponent(l).hitTransform=null==(h=m.getComponent(d).hitNode)?void 0:h.getComponent(a)));case 9:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}(),i}(p.System));i._RF.pop()}}}));

System.register("chunks:///_virtual/WrongMachineStateException.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,n,i,r;return{setters:[function(t){e=t.inheritsLoose,n=t.assertThisInitialized,i=t.wrapNativeSuper},function(t){r=t.cclegacy}],execute:function(){r._RF.push({},"468afzIti9AsLG8QqqpXnG4","WrongMachineStateException",void 0);t("WrongMachineStateException",function(t){function i(e){var r;return r=t.call(this,e)||this,Object.setPrototypeOf(n(r),i.prototype),r}return e(i,t),i}(i(Error)));r._RF.pop()}}}));

System.register("chunks:///_virtual/WrongStateIndexException.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,n,r,o;return{setters:[function(t){e=t.inheritsLoose,n=t.assertThisInitialized,r=t.wrapNativeSuper},function(t){o=t.cclegacy}],execute:function(){o._RF.push({},"23380RoxiVD1phubV2mjm8J","WrongStateIndexException",void 0);t("WrongStateIndexException",function(t){function r(e){var o;return o=t.call(this,e)||this,Object.setPrototypeOf(n(o),r.prototype),o}return e(r,t),r}(r(Error)));o._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});